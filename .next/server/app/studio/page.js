(()=>{var a={};a.id=177,a.ids=[177],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},960:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\workspace\\\\b0b-platform\\\\0type\\\\src\\\\app\\\\studio\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\workspace\\b0b-platform\\0type\\src\\app\\studio\\page.tsx","default")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},2670:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>D});var d=c(1124),e=c(8301),f=c(8049),g=c(3764),h=c(6250);let i=[{id:"helvetica",type:"classic",title:"Helvetica Neue",description:"The neutral benchmark - invisible design",curves:"geometric",weight:"regular",mood:["neutral","professional","ubiquitous"],timestamp:new Date},{id:"futura",type:"classic",title:"Futura",description:"Geometric perfection from the Bauhaus era",curves:"geometric",weight:"regular",mood:["modern","geometric","optimistic"],timestamp:new Date},{id:"din",type:"classic",title:"DIN 1451",description:"German industrial standard - engineered clarity",curves:"geometric",weight:"regular",mood:["industrial","functional","german"],timestamp:new Date},{id:"akzidenz",type:"classic",title:"Akzidenz-Grotesk",description:"The original grotesque - pre-Helvetica purity",curves:"mixed",weight:"regular",mood:["authentic","historical","honest"],timestamp:new Date},{id:"univers",type:"classic",title:"Univers",description:"Adrian Frutiger's systematic family",curves:"geometric",weight:"regular",mood:["systematic","rational","swiss"],timestamp:new Date},{id:"gill-sans",type:"classic",title:"Gill Sans",description:"British humanist warmth",curves:"organic",weight:"regular",mood:["humanist","warm","british"],timestamp:new Date}],j=[{id:"golden-ratio",type:"nature",title:"Golden Ratio (φ = 1.618)",description:"Divine proportion found throughout nature",aspectRatio:1.618,curves:"organic",mood:["harmonious","natural","balanced"],timestamp:new Date},{id:"fibonacci",type:"nature",title:"Fibonacci Spiral",description:"Logarithmic curves from shell to galaxy",curves:"organic",mood:["flowing","dynamic","growth"],timestamp:new Date},{id:"honeycomb",type:"nature",title:"Hexagonal Tessellation",description:"Most efficient packing in nature",curves:"geometric",mood:["efficient","structured","modular"],timestamp:new Date},{id:"branching",type:"nature",title:"Fractal Branching",description:"Self-similar patterns in trees and rivers",curves:"organic",mood:["hierarchical","organic","recursive"],timestamp:new Date},{id:"voronoi",type:"nature",title:"Voronoi Patterns",description:"Natural cell division and territory",curves:"mixed",mood:["cellular","territorial","organic"],timestamp:new Date}],k=[{id:"nouns",type:"blockchain",title:"Nouns DAO Glyphs",description:"Pixel-perfect 32x32 grid aesthetics",curves:"geometric",mood:["playful","pixel","cc0"],chain:"ethereum",url:"https://nouns.wtf",timestamp:new Date},{id:"ens-patterns",type:"blockchain",title:"ENS Name Patterns",description:"Identity naming conventions and aesthetics",mood:["identity","web3","naming"],chain:"ethereum",url:"https://ens.domains",timestamp:new Date},{id:"base-metadata",type:"blockchain",title:"Base Chain Transactions",description:"Rhythm from block times and gas patterns",mood:["rhythmic","transactional","l2"],chain:"base",url:"https://basescan.org",timestamp:new Date},{id:"zora-mints",type:"blockchain",title:"Zora Mint Aesthetics",description:"Creator-driven visual language",mood:["creative","artistic","mint"],chain:"zora",url:"https://zora.co",timestamp:new Date},{id:"onchain-svg",type:"blockchain",title:"On-chain SVG NFTs",description:"Fully on-chain vector graphics",curves:"mixed",mood:["permanent","decentralized","vector"],chain:"ethereum",timestamp:new Date}];async function l(){await new Promise(a=>setTimeout(a,500));let a=[...i,...j,...k].sort(()=>Math.random()-.5),b=4+Math.floor(3*Math.random());return a.slice(0,b)}let m={Helvetica:{mood:"neo-grotesque",contrast:.05,cornerStyle:"soft",terminalStyle:"flat"},Univers:{mood:"neo-grotesque",contrast:.08,cornerStyle:"soft",width:"normal"},Futura:{mood:"geometric",contrast:0,cornerStyle:"sharp",terminalStyle:"flat"},DIN:{mood:"industrial",contrast:.02,cornerStyle:"sharp",terminalStyle:"angled"},"Gill Sans":{mood:"humanist",contrast:.15,cornerStyle:"soft",terminalStyle:"angled"},Akzidenz:{mood:"grotesque",contrast:.1,cornerStyle:"sharp",terminalStyle:"flat"},Avenir:{mood:"geometric",contrast:.05,cornerStyle:"round",terminalStyle:"round"},Frutiger:{mood:"humanist",contrast:.12,cornerStyle:"soft",opticalSize:"text"},Fibonacci:{contrast:.618,xHeightRatio:.72},Fractal:{cornerStyle:"soft",mood:"humanist"},Hexagonal:{mood:"geometric",cornerStyle:"sharp",contrast:0},Organic:{cornerStyle:"round",mood:"humanist",terminalStyle:"round"},Pixel:{cornerStyle:"sharp",mood:"industrial",terminalStyle:"flat"},Monospace:{width:"normal",contrast:0,mood:"industrial"},Terminal:{mood:"industrial",cornerStyle:"sharp",opticalSize:"micro"},"On-chain":{mood:"geometric",cornerStyle:"sharp",strokeWeight:80},Variable:{contrast:.1,mood:"neo-grotesque"},Brutalist:{strokeWeight:100,contrast:0,cornerStyle:"sharp",mood:"industrial"},Minimalist:{strokeWeight:60,contrast:.05,mood:"geometric"}},n={calligrapher:{rhythm:.7,flow:1,breathe:.6,entropy:.3,tension:.35,warmth:.8,flourishIntensity:.5,inkBehavior:.5,pressureDynamics:.9,structuralDeviation:.5,proportionVariance:.2,speed:.6,acceleration:.6,seed:3}};class o{constructor(a){this.params=a,this.rand=this.seededRandom(a.seed)}seededRandom(a){let b=a;return()=>(b=1e4*Math.sin(9999*b))-Math.floor(b)}perlinNoise(a,b=0){let c=43758.5453*Math.sin(12.9898*a+78.233*b+this.params.seed);return(c-Math.floor(c))*2-1}flowNoise(a,b=1){return .5*this.perlinNoise(a*b)+.25*this.perlinNoise(a*b*2)+.125*this.perlinNoise(a*b*4)}rhythmPulse(a){let{rhythm:b}=this.params;return 0===b?1:1+(.5*Math.sin(a*Math.PI*4)+.5+.3*Math.sin(a*Math.PI*7+this.rand())*b)*b*.3}sampleGuidePath(a,b=30){let c=[],{type:d,points:e}=a;for(let a=0;a<=b;a++){let f,g,h=a/b;if("line"===d)f=e[0]+(e[2]-e[0])*h,g=e[1]+(e[3]-e[1])*h;else if("arc"===d){let[a,b,c,d,i]=e,j=d+(i-d)*h;f=a+Math.cos(j)*c,g=b+Math.sin(j)*c}else if("bezier"===d)if(6===e.length){let[a,b,c,d,i,j]=e,k=1-h;f=k*k*a+2*k*h*c+h*h*i,g=k*k*b+2*k*h*d+h*h*j}else{let[a,b,c,d,i,j]=e,k=1-h;f=k*k*a+2*k*h*c+h*h*i,g=k*k*b+2*k*h*d+h*h*j}else f=e[0],g=e[1];c.push({x:f,y:g})}return c}applyFlow(a,b,c){let{flow:d,structuralDeviation:e}=this.params;if(0===d&&0===e)return a;let f=this.flowNoise(b,2)*d*8*e,g=c+Math.PI/2;return{x:a.x+Math.cos(g)*f,y:a.y+Math.sin(g)*f}}applyBreathe(a,b,c){let{breathe:d,structuralDeviation:e}=this.params;if(0===d)return a;let f=Math.sin(b*Math.PI*2+this.rand()*Math.PI)*d*.08*e,g=a.x-c.x,h=a.y-c.y;return{x:a.x+g*f,y:a.y+h*f}}applyEntropy(a,b){let{entropy:c,structuralDeviation:d}=this.params;if(0===c)return a;let e=this.perlinNoise(10*b,0)*c*6*d,f=this.perlinNoise(10*b,100)*c*6*d;return{x:a.x+e,y:a.y+f}}applyTension(a,b){let{tension:c}=this.params,d=a[b];if(.5===c||a.length<3||0===b||b===a.length-1)return d;let e=a[b-1],f=a[b+1],g=(e.x+f.x)/2,h=(e.y+f.y)/2,i=(c-.5)*.5;return{x:d.x+(g-d.x)*i,y:d.y+(h-d.y)*i}}simulatePressure(a,b){let{pressureDynamics:c,speed:d,acceleration:e}=this.params,f=Math.sin(a*Math.PI);return f*=1-.3*d,e>0&&(f+=Math.sin(a*Math.PI*3+this.rand()*Math.PI)*e*.2),"stem"===b?f=.9+.1*Math.sin(a*Math.PI):"bowl"===b?f=.7+.3*Math.sin(a*Math.PI*2):"diagonal"===b?f=1-.4*a:"terminal"===b?f=1-.6*a:"flourish"===b&&(f=Math.sin(a*Math.PI)*(.5+.5*this.rand())),Math.max(.1,Math.min(1,f*c+(1-c)))}simulateVelocity(a){let{speed:b,acceleration:c,rhythm:d}=this.params,e=.3+.7*b;return c>0&&(e+=Math.sin(a*Math.PI*2)*c*.3),d>0&&(e*=this.rhythmPulse(a)),Math.max(.2,Math.min(1.5,e))}generateFlourish(a,b,c){let{flourishIntensity:d}=this.params;if(0===d)return[];let e=[],f=Math.floor(15*d),g=a.x,h=a.y,i=b;for(let b=0;b<f;b++){let j=b/f,k=j*c*d,l=20*Math.sin(j*Math.PI*(2+3*d))*d;i+=(this.rand()-.5)*.3*d,g=a.x+Math.cos(i)*k+Math.cos(i+Math.PI/2)*l,h=a.y+Math.sin(i)*k+Math.sin(i+Math.PI/2)*l;let m=this.simulatePressure(j,"flourish"),n=this.simulateVelocity(j);e.push({x:g,y:h,pressure:m,velocity:n})}return e}applyInkBehavior(a,b,c){let{inkBehavior:d}=this.params;if(0===d)return a;if(this.rand()<.1*d)return a*(1+.5*this.rand());let e=this.perlinNoise(20*b)*d*.1;return a*(1+(1-c)*d*.3)*(1+e)}interpretGuidePath(a){let{warmth:b}=this.params,c=this.sampleGuidePath(a,40),d={x:c.reduce((a,b)=>a+b.x,0)/c.length,y:c.reduce((a,b)=>a+b.y,0)/c.length},e=[],f=[];for(let g=0;g<c.length;g++){let h=g/(c.length-1),i=c[g],j=g<c.length-1?Math.atan2(c[g+1].y-i.y,c[g+1].x-i.x):g>0?Math.atan2(i.y-c[g-1].y,i.x-c[g-1].x):0;i=this.applyFlow(i,h,j),i=this.applyBreathe(i,h,d),i=this.applyEntropy(i,h),i=this.applyTension(c.map((a,b)=>b===g?i:c[b]),g);let k=this.simulatePressure(h,a.intent),l=this.simulateVelocity(h);if(b>0&&g>0){let a=e[e.length-1];i.x=i.x*(1-.2*b)+a.x*b*.2,i.y=i.y*(1-.2*b)+a.y*b*.2}e.push({...i,pressure:k,velocity:l}),a.weight,f.push(this.applyInkBehavior(1,h,l))}return{path:e,intent:a.intent,order:a.order,baseWidth:a.weight,widthVariation:f}}interpretGlyph(a,b,c){let d=[];for(let a of b){let b=this.interpretGuidePath(a);if(d.push(b),this.params.flourishIntensity>.3&&("terminal"===a.intent||"stem"===a.intent)&&this.rand()<this.params.flourishIntensity){let c=b.path[b.path.length-1],e=Math.atan2(c.y-b.path[b.path.length-2].y,c.x-b.path[b.path.length-2].x),f=this.generateFlourish(c,e,50);f.length>0&&d.push({path:f,intent:"flourish",order:a.order+.5,baseWidth:.5*a.weight,widthVariation:f.map(()=>.6+.4*this.rand())})}}d.sort((a,b)=>a.order-b.order);let{proportionVariance:e}=this.params,f=1+(this.rand()-.5)*e*.3;return{char:a,width:c.width*f,height:c.height,baseline:c.baseline,xHeight:c.xHeight,strokes:d,creativity:this.params,guidePaths:b}}setParams(a){this.params={...this.params,...a},void 0!==a.seed&&(this.rand=this.seededRandom(a.seed))}getParams(){return{...this.params}}static toLegacyStrokes(a){let b=[];for(let c of a.strokes){let a=c.path;if(a.length<2)continue;let d=a[0],e=a[a.length-1],f=Math.floor(a.length/2),g=a[f];b.push({type:"bezier",points:[d.x,d.y,g.x,g.y,e.x,e.y],order:c.order})}return b.sort((a,b)=>a.order-b.order),{width:a.width,baseline:a.baseline,xHeight:a.xHeight,strokes:b}}}let p={"geometric-sans":{contrast:0,weight:.5,width:.5,geometric:1,stress:0,handDrawn:0,flourish:0,terminalStyle:"round",seed:1},industrial:{contrast:0,weight:.8,width:.4,geometric:1,stress:0,handDrawn:0,flourish:0,terminalStyle:"square",seed:6},"high-contrast-serif":{contrast:.9,weight:.5,width:.5,geometric:.7,stress:0,handDrawn:0,flourish:0,terminalStyle:"ball",seed:3},"humanist-sans":{contrast:.2,weight:.5,width:.5,geometric:.3,stress:.2,handDrawn:.1,flourish:0,terminalStyle:"round",seed:2},"brush-script":{contrast:.4,weight:.6,width:.6,geometric:0,stress:.7,handDrawn:.6,flourish:.8,terminalStyle:"teardrop",seed:4},"hand-painted":{contrast:.3,weight:.7,width:.5,geometric:.2,stress:.3,handDrawn:.8,flourish:.4,terminalStyle:"flare",seed:5},expressive:{contrast:.5,weight:.6,width:.6,geometric:0,stress:.8,handDrawn:1,flourish:.7,terminalStyle:"teardrop",seed:7},"raw-gesture":{contrast:.7,weight:.5,width:.7,geometric:0,stress:1,handDrawn:1,flourish:1,terminalStyle:"flare",seed:8},"controlled-chaos":{contrast:.6,weight:.7,width:.5,geometric:.1,stress:.6,handDrawn:.9,flourish:.5,terminalStyle:"round",seed:9}};function q(a,b,c){return a+(c()-.5)*2*b}function r(a,b){let c=15*a.handDrawn,d=650*(.8+.4*a.width),e=d/2,f=(d-100)/2;return a.geometric>.7?{char:"O",width:d,height:700,baseline:700,xHeight:500,strokes:[{type:"arc",points:[e,50,e+f,350,e,60],order:1,strokeType:"bowl"},{type:"arc",points:[e+f,350,e,650,e+f-10,350],order:2,strokeType:"bowl"},{type:"arc",points:[e,650,e-f,350,e,640],order:3,strokeType:"bowl"},{type:"arc",points:[e-f,350,e,50,e-f+10,350],order:4,strokeType:"bowl"}]}:{char:"O",width:d,height:700,baseline:700,xHeight:500,strokes:[{type:"bezier",points:[q(e,c,b),q(50,c,b),q(e+.8*f,c,b),q(50,c,b),q(e+f,c,b),q(250,c,b)],order:1,strokeType:"bowl"},{type:"bezier",points:[q(e+f,c,b),q(250,c,b),q(e+f+10,c,b),q(450,c,b),q(e+f,c,b),q(600,c,b)],order:2,strokeType:"bowl"},{type:"bezier",points:[q(e+f,c,b),q(600,c,b),q(e+.6*f,c,b),q(700,c,b),q(e,c,b),q(700,c,b)],order:3,strokeType:"bowl"},{type:"bezier",points:[q(e,c,b),q(700,c,b),q(e-.6*f,c,b),q(700,c,b),q(e-f,c,b),q(600,c,b)],order:4,strokeType:"bowl"},{type:"bezier",points:[q(e-f,c,b),q(600,c,b),q(e-f-10,c,b),q(250,c,b),q(e-f,c,b),q(250,c,b)],order:5,strokeType:"bowl"},{type:"bezier",points:[q(e-f,c,b),q(250,c,b),q(e-.6*f,c,b),q(50,c,b),q(e,c,b),q(50,c,b)],order:6,strokeType:"bowl"}]}}function s(a,b){let c=15*a.handDrawn,d=560*(.8+.4*a.width),e=d-80,f={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"};return{char:"P",width:d,height:700,baseline:700,xHeight:500,strokes:[f,{type:"bezier",points:[q(80,c,b),q(50,c,b),q(.7*e,c,b),q(50,c,b),q(e,c,b),q(200,c,b)],order:2,strokeType:"bowl"},{type:"bezier",points:[q(e,c,b),q(200,c,b),q(e,c,b),q(380,c,b),q(80,c,b),q(380,c,b)],order:3,strokeType:"bowl"}]}}let t={A:function(a,b){q.bind(null);let c=15*a.handDrawn,d=600*(.8+.4*a.width),e=a.geometric>.5?d/2:q(d/2,c,b),f={type:"line",points:[q(50,c,b),700,q(e,c,b),q(50,c,b)],order:1,strokeType:"diagonal"},g={type:"line",points:[q(e,c,b),q(50,c,b),q(d-50,c,b),700],order:2,strokeType:"diagonal"},h=a.geometric>.5?450:q(450,2*c,b),i=[f,g,{type:"line",points:[q(150,c,b),h,q(d-150,c,b),h],order:3,strokeType:"crossbar"}];return a.flourish>.5&&i.push({type:"bezier",points:[d-50,700,d+30,720,d+50,670],order:4,strokeType:"flourish"}),{char:"A",width:d,height:700,baseline:700,xHeight:500,strokes:i}},B:function(a,b){let c=15*a.handDrawn,d=550*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f=a.geometric>.5?.55:.45+.15*b(),g={type:"bezier",points:[q(80,c,b),q(50,c,b),q(d*f,c,b),q(50,c,b),q(d-80,c,b),q(200,c,b)],order:2,strokeType:"bowl"},h={type:"bezier",points:[q(d-80,c,b),q(200,c,b),q(d*f,c,b),q(350,c,b),q(80,c,b),q(350,c,b)],order:3,strokeType:"bowl"},i={type:"bezier",points:[q(80,c,b),q(350,c,b),q(d*(f+.1),c,b),q(350,c,b),q(d-50,c,b),q(525,c,b)],order:4,strokeType:"bowl"},j={type:"bezier",points:[q(d-50,c,b),q(525,c,b),q(d*(f+.1),c,b),700,q(80,c,b),700],order:5,strokeType:"bowl"};return{char:"B",width:d,height:700,baseline:700,xHeight:500,strokes:[e,g,h,i,j]}},C:function(a,b){let c=15*a.handDrawn,d=580*(.8+.4*a.width);a.geometric>.5||b();let e={type:"bezier",points:[q(d-80,c,b),q(150,c,b),q(.6*d,c,b),q(30,c,b),q(.3*d,c,b),q(50,c,b)],order:1,strokeType:"bowl"},f={type:"bezier",points:[q(.3*d,c,b),q(50,c,b),q(50,c,b),q(150,c,b),q(50,c,b),q(350,c,b)],order:2,strokeType:"bowl"},g=[e,f,{type:"bezier",points:[q(50,c,b),q(350,c,b),q(50,c,b),q(550,c,b),q(.3*d,c,b),q(650,c,b)],order:3,strokeType:"bowl"},{type:"bezier",points:[q(.3*d,c,b),q(650,c,b),q(.6*d,c,b),q(680,c,b),q(d-80,c,b),q(550,c,b)],order:4,strokeType:"bowl"}];return a.flourish>.5&&g.push({type:"bezier",points:[d-80,150,d+20,100,d+40,180],order:5,strokeType:"flourish"}),{char:"C",width:d,height:700,baseline:700,xHeight:500,strokes:g}},D:function(a,b){let c=15*a.handDrawn,d=600*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f=a.geometric>.5?d-80:d-60-40*b(),g={type:"bezier",points:[q(80,c,b),q(50,c,b),q(.7*f,c,b),q(50,c,b),q(f,c,b),q(200,c,b)],order:2,strokeType:"bowl"};return{char:"D",width:d,height:700,baseline:700,xHeight:500,strokes:[e,g,{type:"bezier",points:[q(f,c,b),q(200,c,b),q(f+20,c,b),q(350,c,b),q(f,c,b),q(500,c,b)],order:3,strokeType:"bowl"},{type:"bezier",points:[q(f,c,b),q(500,c,b),q(.7*f,c,b),700,q(80,c,b),700],order:4,strokeType:"bowl"}]}},E:function(a,b){let c=15*a.handDrawn,d=500*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f=a.geometric>.5?d-80:d-100+40*b(),g={type:"line",points:[q(80,c,b),q(50,c,b),q(f,c,b),q(50,c,b)],order:2,strokeType:"crossbar"};return{char:"E",width:d,height:700,baseline:700,xHeight:500,strokes:[e,g,{type:"line",points:[q(80,c,b),q(350,c,b),q(.8*f,c,b),q(350,c,b)],order:3,strokeType:"crossbar"},{type:"line",points:[q(80,c,b),700,q(f,c,b),700],order:4,strokeType:"crossbar"}]}},F:function(a,b){let c=15*a.handDrawn,d=480*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f={type:"line",points:[q(80,c,b),q(50,c,b),q(d-50,c,b),q(50,c,b)],order:2,strokeType:"crossbar"},g={type:"line",points:[q(80,c,b),q(350,c,b),q(d-100,c,b),q(350,c,b)],order:3,strokeType:"crossbar"};return{char:"F",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,g]}},G:function(a,b){let c=15*a.handDrawn,d=650*(.8+.4*a.width),e=d-80,f={type:"bezier",points:[q(e,c,b),q(150,c,b),q(.4*e,c,b),q(0,c,b),q(80,c,b),q(350,c,b)],order:1,strokeType:"bowl"},g={type:"bezier",points:[q(80,c,b),q(350,c,b),q(.4*e,c,b),750,q(e,c,b),q(550,c,b)],order:2,strokeType:"bowl"},h={type:"line",points:[q(.4*d,c,b),q(400,c,b),q(e,c,b),q(400,c,b)],order:3,strokeType:"crossbar"};return{char:"G",width:d,height:700,baseline:700,xHeight:500,strokes:[f,g,h,{type:"line",points:[q(e,c,b),q(400,c,b),q(e,c,b),q(550,c,b)],order:4,strokeType:"stem"}]}},H:function(a,b){let c=15*a.handDrawn,d=620*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f={type:"line",points:[q(d-80,c,b),q(50,c,b),q(d-80,c,b),700],order:2,strokeType:"stem"},g=a.geometric>.5?350:q(350,30,b),h={type:"line",points:[q(80,c,b),g,q(d-80,c,b),g],order:3,strokeType:"crossbar"};return{char:"H",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,h]}},I:function(a,b){let c=15*a.handDrawn,d=280*(.8+.4*a.width),e=d/2,f=[{type:"line",points:[q(e,c,b),q(50,c,b),q(e,c,b),700],order:1,strokeType:"stem"}];return("round"!==a.terminalStyle||a.geometric<.5)&&(f.push({type:"line",points:[q(e-60,c,b),q(50,c,b),q(e+60,c,b),q(50,c,b)],order:2,strokeType:"terminal"}),f.push({type:"line",points:[q(e-60,c,b),700,q(e+60,c,b),700],order:3,strokeType:"terminal"})),{char:"I",width:d,height:700,baseline:700,xHeight:500,strokes:f}},J:function(a,b){let c=15*a.handDrawn,d=400*(.8+.4*a.width),e={type:"line",points:[q(d-100,c,b),q(50,c,b),q(d-100,c,b),q(550,c,b)],order:1,strokeType:"stem"},f={type:"bezier",points:[q(d-100,c,b),q(550,c,b),q(d-100,c,b),730,q(150,c,b),700],order:2,strokeType:"bowl"};return{char:"J",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f]}},K:function(a,b){let c=15*a.handDrawn,d=580*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f=a.geometric>.5?380:q(380,20,b),g={type:"line",points:[q(80,c,b),f,q(d-60,c,b),q(50,c,b)],order:2,strokeType:"diagonal"},h={type:"line",points:[q(180,c,b),f-30,q(d-60,c,b),700],order:3,strokeType:"diagonal"};return{char:"K",width:d,height:700,baseline:700,xHeight:500,strokes:[e,g,h]}},L:function(a,b){let c=15*a.handDrawn,d=500*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),700],order:1,strokeType:"stem"},f={type:"line",points:[q(80,c,b),700,q(d-60,c,b),700],order:2,strokeType:"crossbar"};return{char:"L",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f]}},M:function(a,b){let c=15*a.handDrawn,d=720*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),700,q(80,c,b),q(50,c,b)],order:1,strokeType:"stem"},f=d/2;a.geometric>.5||q(50,20,b);let g=a.geometric>.5?450:q(450,30,b),h={type:"line",points:[q(80,c,b),q(50,c,b),q(f,c,b),g],order:2,strokeType:"diagonal"},i={type:"line",points:[q(f,c,b),g,q(d-80,c,b),q(50,c,b)],order:3,strokeType:"diagonal"},j={type:"line",points:[q(d-80,c,b),q(50,c,b),q(d-80,c,b),700],order:4,strokeType:"stem"};return{char:"M",width:d,height:700,baseline:700,xHeight:500,strokes:[e,h,i,j]}},N:function(a,b){let c=15*a.handDrawn,d=620*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),700,q(80,c,b),q(50,c,b)],order:1,strokeType:"stem"},f={type:"line",points:[q(80,c,b),q(50,c,b),q(d-80,c,b),700],order:2,strokeType:"diagonal"},g={type:"line",points:[q(d-80,c,b),700,q(d-80,c,b),q(50,c,b)],order:3,strokeType:"stem"};return{char:"N",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,g]}},O:r,P:s,Q:function(a,b){let c=15*a.handDrawn,d=680*(.8+.4*a.width),e=r(a,b),f={type:"line",points:[q(.5*d,c,b),q(550,c,b),q(d-40,c,b),800],order:e.strokes.length+1,strokeType:"diagonal"};return{char:"Q",width:d,height:800,baseline:700,xHeight:500,strokes:[...e.strokes,f]}},R:function(a,b){let c=15*a.handDrawn,d=580*(.8+.4*a.width),e=s(a,b),f={type:"line",points:[q(200,c,b),q(380,c,b),q(d-60,c,b),700],order:e.strokes.length+1,strokeType:"diagonal"};return{char:"R",width:d,height:700,baseline:700,xHeight:500,strokes:[...e.strokes.map(a=>({...a,char:"R"})),f]}},S:function(a,b){let c=15*a.handDrawn,d=520*(.8+.4*a.width),e={type:"bezier",points:[q(d-100,c,b),q(120,c,b),q(d-60,c,b),q(50,c,b),q(d/2,c,b),q(50,c,b)],order:1,strokeType:"bowl"},f={type:"bezier",points:[q(d/2,c,b),q(50,c,b),q(60,c,b),q(50,c,b),q(60,c,b),q(220,c,b)],order:2,strokeType:"bowl"},g={type:"bezier",points:[q(60,c,b),q(220,c,b),q(d/2,c,b),q(350,c,b),q(d-60,c,b),q(480,c,b)],order:3,strokeType:"diagonal"},h={type:"bezier",points:[q(d-60,c,b),q(480,c,b),q(d-60,c,b),700,q(d/2,c,b),700],order:4,strokeType:"bowl"},i={type:"bezier",points:[q(d/2,c,b),700,q(60,c,b),700,q(100,c,b),q(580,c,b)],order:5,strokeType:"bowl"};return{char:"S",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,g,h,i]}},T:function(a,b){let c=15*a.handDrawn,d=560*(.8+.4*a.width),e=d/2,f={type:"line",points:[q(40,c,b),q(50,c,b),q(d-40,c,b),q(50,c,b)],order:1,strokeType:"crossbar"};return{char:"T",width:d,height:700,baseline:700,xHeight:500,strokes:[f,{type:"line",points:[q(e,c,b),q(50,c,b),q(e,c,b),700],order:2,strokeType:"stem"}]}},U:function(a,b){let c=15*a.handDrawn,d=600*(.8+.4*a.width),e={type:"line",points:[q(80,c,b),q(50,c,b),q(80,c,b),q(500,c,b)],order:1,strokeType:"stem"},f={type:"bezier",points:[q(80,c,b),q(500,c,b),q(80,c,b),730,q(d/2,c,b),730],order:2,strokeType:"bowl"},g={type:"bezier",points:[q(d/2,c,b),730,q(d-80,c,b),730,q(d-80,c,b),q(500,c,b)],order:3,strokeType:"bowl"},h={type:"line",points:[q(d-80,c,b),q(500,c,b),q(d-80,c,b),q(50,c,b)],order:4,strokeType:"stem"};return{char:"U",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,g,h]}},V:function(a,b){let c=15*a.handDrawn,d=600*(.8+.4*a.width),e=d/2,f={type:"line",points:[q(50,c,b),q(50,c,b),q(e,c,b),700],order:1,strokeType:"diagonal"},g={type:"line",points:[q(e,c,b),700,q(d-50,c,b),q(50,c,b)],order:2,strokeType:"diagonal"};return{char:"V",width:d,height:700,baseline:700,xHeight:500,strokes:[f,g]}},W:function(a,b){let c=15*a.handDrawn,d=820*(.8+.4*a.width),e=d/4,f=a.geometric>.5?300:q(300,30,b),g={type:"line",points:[q(50,c,b),q(50,c,b),q(e,c,b),700],order:1,strokeType:"diagonal"},h={type:"line",points:[q(e,c,b),700,q(2*e,c,b),f],order:2,strokeType:"diagonal"},i={type:"line",points:[q(2*e,c,b),f,q(3*e,c,b),700],order:3,strokeType:"diagonal"},j={type:"line",points:[q(3*e,c,b),700,q(d-50,c,b),q(50,c,b)],order:4,strokeType:"diagonal"};return{char:"W",width:d,height:700,baseline:700,xHeight:500,strokes:[g,h,i,j]}},X:function(a,b){let c=15*a.handDrawn,d=580*(.8+.4*a.width),e={type:"line",points:[q(60,c,b),q(50,c,b),q(d-60,c,b),700],order:1,strokeType:"diagonal"},f={type:"line",points:[q(d-60,c,b),q(50,c,b),q(60,c,b),700],order:2,strokeType:"diagonal"};return{char:"X",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f]}},Y:function(a,b){let c=15*a.handDrawn,d=580*(.8+.4*a.width),e=d/2,f=a.geometric>.5?380:q(380,20,b),g={type:"line",points:[q(60,c,b),q(50,c,b),q(e,c,b),f],order:1,strokeType:"diagonal"},h={type:"line",points:[q(d-60,c,b),q(50,c,b),q(e,c,b),f],order:2,strokeType:"diagonal"};return{char:"Y",width:d,height:700,baseline:700,xHeight:500,strokes:[g,h,{type:"line",points:[q(e,c,b),f,q(e,c,b),700],order:3,strokeType:"stem"}]}},Z:function(a,b){let c=15*a.handDrawn,d=540*(.8+.4*a.width),e={type:"line",points:[q(60,c,b),q(50,c,b),q(d-60,c,b),q(50,c,b)],order:1,strokeType:"crossbar"},f={type:"line",points:[q(d-60,c,b),q(50,c,b),q(60,c,b),700],order:2,strokeType:"diagonal"},g={type:"line",points:[q(60,c,b),700,q(d-60,c,b),700],order:3,strokeType:"crossbar"};return{char:"Z",width:d,height:700,baseline:700,xHeight:500,strokes:[e,f,g]}}};function u(a,b){let c,d=t[a.toUpperCase()];if(!d)return null;let e=(c=b.seed+a.charCodeAt(0),()=>(c=(9301*c+49297)%233280)/233280);return d(b,e)}function v(a){return{width:a.width,baseline:a.baseline,xHeight:a.xHeight,strokes:a.strokes.map(a=>({type:a.type,points:a.points,order:a.order}))}}var w=c(8563),x=c(5792);let y={id:"b0b",name:"B0B",role:"Creative Director",avatar:"◉",color:"#00ff88",personality:"Visionary leader. Sees patterns in chaos. Orchestrates the team.",influences:["Nature","Blockchain","Mathematics"],specialties:["Direction","Synthesis","Vision"],status:"creating",glyphsCreated:0,fontsShipped:0,favoriteGlyph:"∞",catchphrase:"Patterns emerge from chaos."},z={id:"d0t",name:"D0T",role:"Design Systems Lead",avatar:"●",color:"#ff00ff",personality:"Precision incarnate. Ensures coherence across all decisions.",influences:["Swiss Design","Systems Theory","Typography"],specialties:["Systems","Coherence","Standards"],status:"creating",glyphsCreated:0,fontsShipped:0,favoriteGlyph:"◯",catchphrase:"Coherence is everything."},A="swiss-mono";function B(){let a=(0,e.useRef)(null),b=(0,e.useRef)(null),[c,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)("idle"),[q,r]=(0,e.useState)("full-creation"),[s,t]=(0,e.useState)(""),[B,D]=(0,e.useState)(0),[E,F]=(0,e.useState)(0),[G,H]=(0,e.useState)([]),[I,J]=(0,e.useState)([]),[K,L]=(0,e.useState)(null),[M,N]=(0,e.useState)(h.lt.monoline),[O,P]=(0,e.useState)([]),[Q,R]=(0,e.useState)(""),[S,T]=(0,e.useState)("#ffffff"),[U,V]=(0,e.useState)(null),[W,X]=(0,e.useState)({}),[Y,Z]=(0,e.useState)(p.expressive),[$,_]=(0,e.useState)(n.calligrapher),[aa,ab]=(0,e.useState)("pure"),[ac,ad]=(0,e.useState)("raw-gesture");(0,e.useRef)(new w.Lk("raw-gesture"));let ae=(0,e.useRef)(new Map);(0,e.useRef)(null);let af=(0,e.useRef)(!1),ag=(0,e.useRef)(null),ah=(0,e.useCallback)(a=>{let b=`${a}-${Y.seed}-${aa}-${$.entropy}`;if("pure"===aa){let b=function(a,b,c){let d=u(a,b);if(!d)return null;let e=function(a,b=40){return a.strokes.map(a=>({type:a.type,points:a.points,intent:a.strokeType,weight:b,order:a.order}))}(d);return new o(c).interpretGlyph(a,e,{width:d.width,height:d.height,baseline:d.baseline,xHeight:d.xHeight})}(a,Y,$);if(b)return o.toLegacyStrokes(b)}else{if(ae.current.has(b))return v(ae.current.get(b));let c=u(a,Y);if(c)return ae.current.set(b,c),v(c)}return(0,g.Bn)(a)},[Y,aa,$]),ai=(0,e.useCallback)((a,b,c)=>{P(d=>[...d,{id:`${Date.now()}-${Math.random()}`,bot:a,message:b,type:c,timestamp:new Date}])},[]),aj=a=>a[Math.floor(Math.random()*a.length)],ak=(0,e.useCallback)(()=>[y,z,...f.me.filter(a=>"creating"===a.status)],[]);(0,e.useCallback)(()=>{let a=b.current;if(!a)return;let c=a.getContext("2d");if(!c)return;c.fillStyle="#0a0a0a",c.fillRect(0,0,a.width,a.height);let d=Math.floor(a.width/48);c.strokeStyle="#151515";for(let b=0;b<=d;b++)c.beginPath(),c.moveTo(48*b,0),c.lineTo(48*b,a.height),c.stroke();G.forEach((a,b)=>{let e=Math.floor(b/d),f=ah(a);c.save(),c.translate(b%d*48+4,48*e+4),c.scale(.04,.04),f.strokes.forEach(a=>{!function(a,b,c,d,e,f=!0){console.log(`[DRAW] preset=${A}, type=${b.type}, points=${b.points.length}, brush=${c.name}`),function(a,b,c,d,e,f={}){!1;let{preset:g="swiss-mono",color:h="#ffffff"}=f,i=w.sc[g],j=i?.style||{};console.log(`[ANIMATE] preset="${g}", size=${j.size}, thinning=${j.thinning}, progress=${e.toFixed(2)}`);let k=[],l=Math.floor(40*e);if("line"===c){let[a,c,d,f]=b;for(let b=0;b<=l;b++){let g=b/40*e,h=a+(d-a)*g,i=c+(f-c)*g,l=!1===j.simulatePressure?.5:.3+.7*Math.sin(g*Math.PI);k.push([h,i,l])}}else{let[a,c,d,f,g,h]=b;for(let b=0;b<=l;b++){let i=b/40*e,l=1-i,m=l*l*a+2*l*i*d+i*i*g,n=l*l*c+2*l*i*f+i*i*h,o=!1===j.simulatePressure?.5:.4+.6*Math.sin(i*Math.PI);k.push([m,n,o])}}if(k.length<2)return;let m={size:(j.size||12)*(d.baseWidth/10),thinning:j.thinning??.5,smoothing:j.smoothing??.5,streamline:j.streamline??.5,simulatePressure:j.simulatePressure??!0,start:{taper:j.taperStart||0,cap:j.capStart??!0},end:{taper:e>=1&&j.taperEnd||0,cap:j.capEnd??!0},last:e>=1},n=(0,x.$4)(k,m);if(n.length<3)return;let o=new Path2D(function(a,b=!0){if(a.length<4)return"";let c=(a,b)=>(a+b)/2,d=a[0],e=a[1],f=a[2],g=`M${d[0].toFixed(2)},${d[1].toFixed(2)} Q${e[0].toFixed(2)},${e[1].toFixed(2)} ${c(e[0],f[0]).toFixed(2)},${c(e[1],f[1]).toFixed(2)} T`;for(let b=2,f=a.length-1;b<f;b++)d=a[b],e=a[b+1],g+=`${c(d[0],e[0]).toFixed(2)},${c(d[1],e[1]).toFixed(2)} `;return b&&(g+="Z"),g}(n));a.fillStyle=h,a.fill(o)}(a,b.points,b.type,c,1,{preset:A,color:e,debug:!0})}(c,a,M,0,S,!1)}),c.restore()})},[G,S,M,ah]);let al=(0,e.useCallback)(async()=>{if(c)return;i(!0),r("brush-lab"),af.current=!1,P([]),H([]),X({});let a=ak(),b=(0,h.rm)();if(0===b.length){ai(y,"No experimental brushes to test. All brushes are approved!","system"),i(!1);return}for(let c of(k("brush-lab"),ai(y,"Welcome to Brush Lab. Let's test some experimental brushes.","system"),await C(800),ai(z,"I'll ensure we maintain quality standards throughout testing.","system"),await C(600),b)){if(af.current)break;V(c),N(c);let b=a.find(a=>a.id===c.creator)||aj(a);for(let d of(ai(b,aj(h.mk.propose),"brush-test"),ai(b,`Testing "${c.name}" - ${c.description}`,"proposal"),await C(1e3),h.Mg.slice(0,4))){if(af.current)break;ai(aj(a),aj(h.mk.testing).replace("{char}",d),"brush-test"),t(d);let b=[...ah(d).strokes].sort((a,b)=>a.order-b.order);for(let a=0;a<b.length&&!af.current;a++){D(a);for(let a=0;a<=15&&!af.current;a++)F(a/15),await C(25)}H(a=>[...a,d]),await C(200)}let d={};for(let b of a.slice(0,4)){if(af.current)break;await C(400);let a=aj(["approve","approve","refine"]);d[b.id]=a;ai(b,"approve"===a?aj(h.mk.approve):"reject"===a?aj(h.mk.reject):aj(h.mk.refine).replace("{param}",aj(["pressure curve","texture","width variation"])),"vote")}X(d),await C(500);let e=Object.values(d).filter(a=>"approve"===a).length;e>=2?ai(y,aj(h.mk.celebrate),"celebration"):ai(z,`"${c.name}" needs refinement. ${e}/4 approvals.`,"decision"),await C(800),H([])}k("complete"),ai(y,"Brush Lab session complete. Ready for font creation.","celebration"),V(null),i(!1)},[c,ai,ak]),am=(0,e.useCallback)(async()=>{if(c)return;i(!0),r("full-creation"),af.current=!1,H([]),P([]),t(""),J([]);let a=ak();k("researching"),ai(y,"Initiating creative synthesis. Gathering inspiration from the digital ether.","system"),await C(800),ai(z,"Establishing coherence protocols. All systems aligned.","system"),await C(600);let b=(await l()).slice(0,4).map(a=>a.title);for(let c of b)ai(aj(a),`Absorbing: ${c}`,"thought"),await C(500);if(af.current)return void i(!1);k("defining");let d=function(a){let b=[],c=[],d=[],e=[],f={sharp:0,soft:0,round:0},g={flat:0,angled:0,round:0},h={geometric:0,humanist:0,grotesque:0,"neo-grotesque":0,industrial:0},i={condensed:0,normal:0,extended:0};a.forEach(a=>{let j=Object.keys(m).find(b=>a.toLowerCase().includes(b.toLowerCase()));if(j){let a=m[j];a.strokeWeight&&b.push(a.strokeWeight),void 0!==a.contrast&&c.push(a.contrast),a.xHeightRatio&&d.push(a.xHeightRatio),a.cornerRadius&&e.push(a.cornerRadius),a.cornerStyle&&f[a.cornerStyle]++,a.terminalStyle&&g[a.terminalStyle]++,a.mood&&h[a.mood]++,a.width&&i[a.width]++}});let j=a=>a.length?a.reduce((a,b)=>a+b)/a.length:void 0,k=a=>{let b=Object.entries(a).reduce((a,b)=>b[1]>a[1]?b:a);return b[1]>0?b[0]:void 0};return{strokeWeight:j(b),contrast:j(c),xHeightRatio:j(d),cornerRadius:j(e),cornerStyle:k(f),terminalStyle:k(g),mood:k(h),width:k(i)}}(b).mood||"neo-grotesque",e={geometric:["geometric-bold","pure-mono"],humanist:["script-flow","hand-painted","ink-organic"],grotesque:["high-contrast","calligraphic-hybrid"],"neo-grotesque":["calligraphic-hybrid","high-contrast","geometric-bold"],industrial:["pure-mono","geometric-bold"]}[d]||["geometric-bold","high-contrast","script-flow"],f=e[Math.floor(Math.random()*e.length)],g=(0,h.hc)(f);L(g),N((0,h.lo)(g.stemBrush));let j=function(a){switch(a){case"geometric-bold":case"pure-mono":return p["geometric-sans"];case"high-contrast":case"calligraphic-hybrid":return p["high-contrast-serif"];case"script-flow":case"hand-painted":return p["brush-script"];case"ink-organic":return p["hand-painted"];default:return p["humanist-sans"]}}(f);Z(j),ae.current.clear(),T("#ffffff"),ai(y,`Style locked: ${d}. Brush combo: "${g.name}"`,"decision"),await C(400);let n=Object.entries(p).find(([a,b])=>JSON.stringify(b)===JSON.stringify(j))?.[0]||"custom";if(ai(z,`Glyph skeleton: ${{"geometric-sans":"Geometric Sans (Bauhaus precision)","humanist-sans":"Humanist Sans (calligraphic roots)","high-contrast-serif":"High-Contrast Serif (Didone elegance)","brush-script":"Brush Script (expressive strokes)","hand-painted":"Hand-Painted (organic imperfection)",industrial:"Industrial Mono (mechanical uniformity)"}[n]||n}`,"thought"),await C(400),ai(z,`Coherence confirmed. Stem: ${g.stemBrush}, Bowl: ${g.bowlBrush}`,"decision"),await C(500),af.current)return void i(!1);k("assigning");let o={};if(ai(y,"Assigning specialists to stroke types...","system"),await C(400),["stem","bowl","diagonal","terminal"].forEach((b,c)=>{let d=a[c%a.length];o[b]=d;let e="stem"===b?g.stemBrush:"bowl"===b?g.bowlBrush:"diagonal"===b?g.diagonalBrush:g.terminalBrush;ai(d,`I'll handle ${b} strokes with "${e}" brush.`,"decision")}),await C(600),af.current)return void i(!1);k("drawing"),ai(y,"Creation begins. Multiple brushes, one vision.","celebration"),await C(500);let q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");for(let a=0;a<q.length&&!af.current;a++){let b=q[a],c=ah(b);t(b),D(0),F(0),0===a&&ai(y,"Drawing 'A' — the apex of our alphabet.","thought"),14===a&&ai(z,"'O' — testing our bowl coherence.","thought"),26===a&&ai(y,"Uppercase complete. Lowercase phase begins.","decision"),52===a&&ai(z,"Numerals. Precision is paramount.","decision");let d=[...c.strokes].sort((a,b)=>a.order-b.order);for(let a=0;a<d.length&&!af.current;a++){let b=d[a];D(a);let c="stem";if("arc"===b.type||"bezier"===b.type)c="bowl";else if("line"===b.type){let a=Math.abs(b.points[2]-b.points[0]),d=Math.abs(b.points[3]-b.points[1]);c=a>.5*d&&d>.5*a?"diagonal":"stem"}let e=o[c],f="stem"===c?g.stemBrush:"bowl"===c?g.bowlBrush:"diagonal"===c?g.diagonalBrush:g.terminalBrush;J([{bot:e,brush:(0,h.lo)(f),strokeType:c,progress:0}]),N((0,h.lo)(f));for(let a=0;a<=15&&!af.current;a++)F(a/15),await C(18);await C(30)}H(a=>[...a,b]),J([]),await C(20)}if(af.current)return void i(!1);k("reviewing"),t("");let s={geometric:["Zero","Proto","Axis"],humanist:["Nova","Libre","Flow"],grotesque:["Stark","Raw","Null"],"neo-grotesque":["Neo","Meta","Signal"],industrial:["Grid","Forge","Core"]},u=s[d]||s["neo-grotesque"],v=`${aj(u)} Grotesk`;R(v),ai(y,`The family is complete: "${v}"`,"celebration"),await C(600),ai(z,"Coherence score: 98.7%. All brush assignments harmonized.","decision"),await C(500),k("exporting"),ai(aj(a),"Generating font files: OTF, TTF, WOFF2...","thought"),await C(800);try{(await fetch("http://localhost:5002/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,glyphs:Object.fromEntries(G.map(a=>{let b=ah(a);return[a,{width:b.width,strokes:b.strokes}]})),metadata:{style:"Regular",designer:"B0B + D0T + 0TYPE Creative Team",brushCombo:g.name,glyphStyle:Y},formats:["otf","ttf","woff2"]})})).ok?ai(y,"Font files generated successfully!","celebration"):ai(z,"Font API offline — files can be generated locally.","system")}catch{ai(z,"Start font API: python api/font_generator.py","system")}k("complete"),ai(y,`"${v}" — A multi-brush masterpiece by B0B, D0T, and the 0TYPE team.`,"celebration"),i(!1)},[c,ai,ak,G]),an=(0,e.useCallback)(()=>{af.current=!0,i(!1)},[]);return(0,d.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[(0,d.jsx)("header",{className:"border-b border-[#1a1a1a] px-6 py-4",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-2xl",style:{color:y.color},children:y.avatar}),(0,d.jsx)("span",{className:"text-xl",style:{color:z.color},children:z.avatar})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg font-mono",children:"0TYPE Studio V6"}),(0,d.jsxs)("p",{className:"text-xs text-[#555]",children:["idle"===j&&"Ready — Choose a mode","brush-lab"===j&&"Brush Lab — Testing experimental brushes","researching"===j&&"Researching inspirations...","defining"===j&&"Defining style & brush assignments...","assigning"===j&&"Assigning designers to stroke types...","drawing"===j&&`Drawing ${s} (multi-brush)`,"reviewing"===j&&"Naming the family...","exporting"===j&&"Generating font files...","complete"===j&&`${Q||"Complete"}`]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[Q&&(0,d.jsx)("span",{className:"text-lg font-medium",style:{color:S},children:Q}),!c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 border border-[#333] rounded overflow-hidden",children:[(0,d.jsx)("button",{onClick:()=>ad("raw-gesture"),className:`px-3 py-2 text-xs font-mono transition-all ${w.sc[ac]?.category==="expressive"?"bg-pink-600 text-white":"text-[#666] hover:text-white"}`,title:"Pure Creation - Maximum expression",children:"\uD83C\uDFA8 Pure"}),(0,d.jsx)("button",{onClick:()=>ad("swiss-mono"),className:`px-3 py-2 text-xs font-mono transition-all ${w.sc[ac]?.category==="classic"?"bg-blue-600 text-white":"text-[#666] hover:text-white"}`,title:"Swiss Precision - Grilli-inspired",children:"\uD83C\uDDE8\uD83C\uDDED Swiss"}),(0,d.jsx)("button",{onClick:()=>ad("glitch"),className:`px-3 py-2 text-xs font-mono transition-all ${w.sc[ac]?.category==="experimental"?"bg-purple-600 text-white":"text-[#666] hover:text-white"}`,title:"Experimental - Breaking boundaries",children:"⚡ Exp"})]}),(0,d.jsx)("button",{onClick:al,className:"px-4 py-2 text-sm font-mono border border-[#333] hover:border-[#555] transition-all",children:"Brush Lab"}),(0,d.jsx)("button",{onClick:am,className:"px-4 py-2 text-sm font-mono bg-white text-black hover:bg-gray-100 transition-all",children:"Create Font"})]}),c&&(0,d.jsx)("button",{onClick:an,className:"px-4 py-2 text-sm font-mono bg-red-600 hover:bg-red-700 transition-all",children:"Stop"})]})]})}),(0,d.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,d.jsxs)("div",{className:"grid lg:grid-cols-5 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,d.jsx)("div",{className:"grid grid-cols-2 gap-2",children:I.length>0?I.map((a,b)=>(0,d.jsxs)("div",{className:"p-3 border border-[#1a1a1a] flex items-center gap-3",style:{borderLeftColor:a.bot.color,borderLeftWidth:3},children:[(0,d.jsx)("span",{className:"text-2xl",style:{color:a.bot.color},children:a.bot.avatar}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:a.bot.name}),(0,d.jsxs)("p",{className:"text-[10px] text-[#555]",children:[a.brush.name," • ",a.strokeType]})]})]},b)):(0,d.jsxs)("div",{className:"col-span-2 p-3 border border-[#1a1a1a] flex items-center gap-3",children:[(0,d.jsx)("span",{className:"text-2xl",style:{color:y.color},children:y.avatar}),(0,d.jsx)("span",{className:"text-2xl",style:{color:z.color},children:z.avatar}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:"B0B + D0T"}),(0,d.jsx)("p",{className:"text-[10px] text-[#555]",children:"Creative Intelligence"})]}),(0,d.jsx)("p",{className:"text-4xl font-light",style:{color:S},children:s||"—"})]})}),(0,d.jsx)("div",{className:"border border-[#1a1a1a] overflow-hidden bg-[#0a0a0a]",children:(0,d.jsx)("canvas",{ref:a,width:600,height:480,className:"w-full"})}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("p",{className:"text-xs font-mono text-[#555]",children:["Character Set (",G.length,"/62)"]}),K&&(0,d.jsxs)("p",{className:"text-xs text-[#666]",children:["Combo: ",K.name]})]}),(0,d.jsx)("canvas",{ref:b,width:560,height:192,className:"w-full"})]}),G.length>26&&(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-5 space-y-3",children:[(0,d.jsx)("p",{className:"text-xs font-mono text-[#555]",children:"Type Specimen"}),(0,d.jsx)("p",{className:"text-2xl tracking-wide",style:{color:S},children:G.filter(a=>a>="A"&&a<="Z").join("")}),(0,d.jsx)("p",{className:"text-lg text-[#888]",children:"The quick brown fox jumps over the lazy dog."})]})]}),(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,d.jsxs)("div",{className:"border border-[#1a1a1a]",children:[(0,d.jsxs)("div",{className:"px-4 py-2 border-b border-[#1a1a1a] flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs font-mono text-[#555]",children:"Stroke Engine"}),(0,d.jsx)("span",{className:`text-[8px] px-1.5 py-0.5 rounded ${"pure"===aa?"bg-pink-900/50 text-pink-400":"bg-blue-900/50 text-blue-400"}`,children:"pure"===aa?"PURE CREATION":"SWISS PRECISION"})]}),(0,d.jsx)("div",{className:"max-h-48 overflow-y-auto p-2 space-y-1",children:Object.entries(w.sc).map(([a,b])=>(0,d.jsxs)("button",{onClick:()=>ad(a),className:`w-full text-left p-2 rounded text-xs transition-all ${ac===a?"bg-[#1a1a1a] border border-[#333]":"hover:bg-[#111]"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:ac===a?"text-white":"text-[#666]",children:b.name}),(0,d.jsx)("span",{className:`text-[8px] px-1 py-0.5 rounded ${"expressive"===b.category?"bg-pink-900/50 text-pink-400":"classic"===b.category?"bg-blue-900/50 text-blue-400":"bg-purple-900/50 text-purple-400"}`,children:b.category})]}),ac===a&&(0,d.jsx)("p",{className:"text-[10px] text-[#555] mt-1",children:b.description}),ac===a&&b.influences&&(0,d.jsxs)("p",{className:"text-[9px] text-[#444] mt-1",children:["← ",b.influences.join(" • ")]})]},a))})]}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-4",style:{borderColor:S+"40"},children:[(0,d.jsxs)("p",{className:"text-xs font-mono text-[#555] mb-3 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:S}}),"brush-lab"===q?"Testing Brush":"Active Brush Combo"]}),U?(0,d.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,d.jsx)("p",{className:"text-[#aaa] font-medium",children:U.name}),(0,d.jsx)("p",{className:"text-[#666]",children:U.description}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Width:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:U.baseWidth})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Texture:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:U.texture})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Pressure:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:U.pressureCurve})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Edge:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:U.edgeStyle})]})]})]}):K?(0,d.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,d.jsx)("p",{className:"text-[#aaa] font-medium",children:K.name}),(0,d.jsx)("p",{className:"text-[#666]",children:K.description}),(0,d.jsxs)("div",{className:"space-y-1 mt-3",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Stem:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:K.stemBrush})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Bowl:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:K.bowlBrush})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Diagonal:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:K.diagonalBrush})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-[#555]",children:"Terminal:"})," ",(0,d.jsx)("span",{className:"text-[#888]",children:K.terminalBrush})]})]})]}):(0,d.jsx)("p",{className:"text-xs text-[#444]",children:"No brush selected"})]}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a]",children:[(0,d.jsxs)("div",{className:"px-4 py-3 border-b border-[#1a1a1a] flex items-center gap-2",children:[(0,d.jsx)("span",{className:`w-2 h-2 rounded-full ${c?"bg-green-500 animate-pulse":"bg-[#333]"}`}),(0,d.jsx)("span",{className:"text-xs font-mono text-[#555]",children:"brush-lab"===q?"Brush Lab Session":"Creative Process"})]}),(0,d.jsxs)("div",{className:"h-80 overflow-y-auto p-3 space-y-3",children:[0===O.length&&(0,d.jsxs)("div",{className:"text-center py-8 space-y-2",children:[(0,d.jsx)("p",{className:"text-xs text-[#333]",children:"Choose a mode to begin:"}),(0,d.jsxs)("p",{className:"text-[10px] text-[#444]",children:[(0,d.jsx)("strong",{children:"Brush Lab"})," — Test experimental brushes"]}),(0,d.jsxs)("p",{className:"text-[10px] text-[#444]",children:[(0,d.jsx)("strong",{children:"Create Font"})," — Full multi-designer creation"]})]}),O.map(a=>(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("span",{className:"text-base flex-shrink-0",style:{color:a.bot.color},children:a.bot.avatar}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("span",{className:"text-[11px] font-medium",style:{color:a.bot.color},children:a.bot.name}),(0,d.jsx)("span",{className:`text-[9px] px-1.5 py-0.5 rounded ${"decision"===a.type?"bg-blue-900/50 text-blue-400":"vote"===a.type?"bg-purple-900/50 text-purple-400":"brush-test"===a.type?"bg-orange-900/50 text-orange-400":"celebration"===a.type?"bg-pink-900/50 text-pink-400":"system"===a.type?"bg-cyan-900/50 text-cyan-400":"bg-[#1a1a1a] text-[#555]"}`,children:a.type})]}),(0,d.jsx)("p",{className:"text-xs text-[#999] leading-relaxed",children:a.message})]})]},a.id)),(0,d.jsx)("div",{ref:ag})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-3 text-center",children:[(0,d.jsx)("p",{className:"text-2xl font-light",style:{color:S},children:G.length}),(0,d.jsx)("p",{className:"text-[10px] text-[#444] uppercase",children:"Glyphs"})]}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-3 text-center",children:[(0,d.jsx)("p",{className:"text-2xl font-light text-[#888]",children:(0,h.IR)().length}),(0,d.jsx)("p",{className:"text-[10px] text-[#444] uppercase",children:"Brushes"})]}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a] p-3 text-center",children:[(0,d.jsx)("p",{className:"text-2xl font-light text-[#888]",children:ak().length}),(0,d.jsx)("p",{className:"text-[10px] text-[#444] uppercase",children:"Designers"})]})]}),(0,d.jsxs)("div",{className:"border border-[#1a1a1a]",children:[(0,d.jsx)("div",{className:"px-4 py-2 border-b border-[#1a1a1a]",children:(0,d.jsx)("span",{className:"text-xs font-mono text-[#555]",children:"Brush Library"})}),(0,d.jsx)("div",{className:"max-h-48 overflow-y-auto p-2 space-y-1",children:Object.values(h.lt).map(a=>{let b=M?.id===a.id||K&&(K.stemBrush===a.id||K.bowlBrush===a.id||K.diagonalBrush===a.id||K.terminalBrush===a.id);return(0,d.jsxs)("div",{className:`flex items-center justify-between p-2 rounded text-xs ${b?"bg-[#1a1a1a] border border-[#333]":"hover:bg-[#111]"}`,style:b?{borderColor:S+"60"}:{},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[b&&(0,d.jsx)("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:S}}),(0,d.jsx)("span",{className:b?"text-white":"text-[#666]",children:a.name})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-[9px] text-[#444]",children:a.texture}),(0,d.jsx)("span",{className:`text-[8px] px-1 py-0.5 rounded ${"approved"===a.status?"bg-green-900/50 text-green-400":"testing"===a.status?"bg-yellow-900/50 text-yellow-400":"bg-purple-900/50 text-purple-400"}`,children:a.status})]})]},a.id)})})]})]})]})})]})}function C(a){return new Promise(b=>setTimeout(b,a))}function D(){return(0,d.jsx)(B,{})}},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5977:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(9326),i=c(8928),j=c(175),k=c(12),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["studio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,960)),"C:\\workspace\\b0b-platform\\0type\\src\\app\\studio\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,1472)),"C:\\workspace\\b0b-platform\\0type\\src\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["C:\\workspace\\b0b-platform\\0type\\src\\app\\studio\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/studio/page",pathname:"/studio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/studio/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(9902).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6794:(a,b,c)=>{Promise.resolve().then(c.bind(c,960))},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9842:(a,b,c)=>{Promise.resolve().then(c.bind(c,2670))},9902:a=>{"use strict";a.exports=require("path")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[778,514,250,66],()=>b(b.s=5977));module.exports=c})();